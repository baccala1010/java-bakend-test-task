# java-bakend-test-task
test task implementation for UStudy.kz

# REST API сервис для приёма данных от сенсора

## Описание проекта

Данный проект представляет собой REST API сервис, разработанный с использованием Spring Boot, который принимает данные от сенсора. Сенсор отправляет HTTP-запросы с измерениями, содержащими информацию о температуре и погодных условиях.

## Задачи

- Создание REST API приложения на Spring:
  - Настройка Spring Boot приложения с необходимыми контроллерами, сервисами и репозиториями.
  - Добавление авторизации на основе JWT для защиты эндпоинтов.

## Эндпоинты

### Регистрация сенсора

- **POST** `/sensors/registration`
  - Регистрирует новый сенсор в системе.
  - Пример JSON-запроса:
    ```json
    {
      "name": "sensorName"
    }
    ```
  - Валидация: если сенсор с таким именем уже существует в базе данных, возвращается сообщение об ошибке.

### Добавление измерений

- **POST** `/measurements/add`
  - Принимает данные измерения от сенсора.
  - Пример JSON-запроса:
    ```json
    {
      "value": 23.5,
      "raining": true,
      "sensor": {
        "name": "sensorName"
      }
    }
    ```

### Получение измерений

- **GET** `/measurements`
  - Возвращает все измерения из базы данных.

### Подсчет дождливых дней

- **GET** `/measurements/rainyDaysCount`
  - Возвращает количество дождливых дней.

## Тестирование

- Написаны тесты для всех эндпоинтов, используя JUnit и Mockito.

## Docker

- Создан Dockerfile для упаковки приложения.
- Настроен Docker Compose для запуска контейнера приложения и базы данных.

## Клиент для отправки данных

Реализован Java-клиент, который:
- Регистрирует сенсор через `POST /sensors/registration`.
- Отправляет 1000 измерений со случайными значениями температуры и осадков на `/measurements/add`.
- Выполняет `GET /measurements`, чтобы получить все 1000 записанных измерений.

## Файлы для сдачи

- Исходный код Spring Boot приложения.
- Dockerfile и файл docker-compose.yml.
- Документация Swagger (генерация JSON/YAML схемы API).
- Файл README.md с описанием проекта, инструкциями по сборке и запуску через Docker, примерами использования API.

## Критерии оценки

- Чистота кода.
- Правильное использование DTO и валидации данных.
- Корректная реализация JWT авторизации.
- Полнота тестов (юнит-тесты и интеграционные тесты).
- Соответствие модели предметной области.
